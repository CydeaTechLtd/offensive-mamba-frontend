import React, { Component } from 'react';
import { Container, Row, Col } from 'reactstrap'
import API from '../../api'
import SingleSystemPostExploitation from './SingleSystemPostExploitation'
class PostExploitationReports extends Component {
    constructor(props) {
        super(props)
        this.state = {systems: []}
    }
    async componentDidMount() {
        await this.getLocalSystems()
    }

    async getLocalSystems() {
        var response = await API.getAllLocalSystems()
        if(response.success) {
            this.setState({'systems': response.data})
        } else {
            this.setState({'systems': []})
        }
    }

    render() {
        return (
            <Container fluid={"true"}>
                <Row>
                    <Col>
                        <h1 className="border-bottom">Post Exploitation Reports</h1>
                        <div><small>View Post-Exploitation of your systems</small></div>
                    </Col>
                </Row>
                <Container className="main">
                    {Object.values(this.state.systems).map((system, i) => {
                        return <><h3>{system}</h3><SingleSystemPostExploitation system={system} /></>
                    })}
                </Container>
            </Container>
        )
    }
}

export default PostExploitationReports
